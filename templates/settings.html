{% extends "layout.html" %}

{% block body %}

    <div class="settings-page">
        <h1 class="settings-title">Settings</h1>

        <div class="settings-card">
            <div class="settings-section">
                <form action="/settings" method="post">
                    <label for="budget" class="settings-label">
                        Your budget: $
                    </label>
                    <input autocomplete="off" type="number" id="budget" name="budget" class="budget-input" value="{{budget}}" step="0.01" min="0.00" max="500.00">
                    
                    <!-- <div id="categories">
                        {% for cat in categories %}
                        <li>
                            {{cat["category"]}}
                            {% if cat["user_id"] != 1 %}
                            <input hidden name="category" value="{{cat["id"]}} 0">
                            <button id="delete_cat" type="button">-</button>
                            {% endif %}
                        </li>
                        {% endfor %}
                    </div>
                    <button id="add_cat" type="button">add</button>
                    <button type="submit">Save</button> -->
                    
                    <div class="category-settings">
                        <!-- <h2 class="section-title">Your Categories</h2> -->
                        <label class="settings-label">Your categories:</label>
                        
                        <ul class="category-list" id="categories">
                            {% for cat in categories %}
                            <li class="category-item" data-category="{{ category }}" data-deleted="false">
                                <span class="category-name">â€¢ {{cat["category"]}}</span>
                                {% if cat["user_id"] != 1 %}
                                <input hidden name="category" value="{{cat["id"]}} 0">
                                <button id="delete_cat" type="button" class="toggle-category-btn delete-btn" title="Remove category">
                                    <span>&minus;</span>
                                </button>
                                {% endif %}
                            </li>
                            {% endfor %}
                        </ul>
                        
                        <div class="category-actions">
                            <button type="button" class="add-category-btn" id="add_cat">+ Add Category</button>
                            <button type="submit" class="save-btn">Save</button>
                        </div>
                    </div>
                    
                </form>
            </div>
        </div>
        
    </div>
    
    <script type="module" src="/static/settings.js"></script>
    
    {% endblock %}